<!DOCTYPE html>
<!-- saved from url=(0050)http://homepage.ntlworld.com/ray.hammond/progress/ -->
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=0.5, user-scalable=no">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<title>HTML5 Progress Slider</title>
		<script src="./webfont.js" type="text/javascript" async=""></script>
		<style>
			body {
				margin-top: 100px;
				text-align: center;
			}
			#putdatahere {
				position: absolute;
				top: 0px;
				right: 50px;
				margin-top: 15px;
				font-size: 20px;
				text-align: left;
			}
		</style>
  </head>
  <body>
		<div id="putdatahere"><strong>Look here</strong><br/>when unlocking<br/><strong>StandaLock #2</strong></div>
		<div id="standalock-1"></div>
		<div id="standalock-2"></div>
		<div id="standalock-3"></div>
		<div id="standalock-4"></div>
		<script src="./standalock.js"></script>
		<script type="text/javascript" charset="utf-8">
			function myCustomLock(ctx, cursor_x) {

				// Helper function to create rounded rectangles
				CanvasRenderingContext2D.prototype.roundRect = function (x, y, w, h, r) {
				  if (w < 2 * r) r = w / 2;
				  if (h < 2 * r) r = h / 2;
				  this.beginPath();
				  this.moveTo(x+r, y);
				  this.arcTo(x+w, y,   x+w, y+h, r);
				  this.arcTo(x+w, y+h, x,   y+h, r);
				  this.arcTo(x,   y+h, x,   y,   r);
				  this.arcTo(x,   y,   x+w, y,   r);
				  this.closePath();
				  return this;
				}

		    // Lock
		    var x = 10, y = 0, w = 443, h = 50, r = 40;
		    var border = ctx.createLinearGradient(x, y, x, y+h);
				border.addColorStop(0, 'hsl(216,10%,40%)');
				border.addColorStop(1, 'hsl(216,10%,10%)');
		    ctx.strokeStyle = border;
		    ctx.lineWidth = 12;
		    var background = ctx.createLinearGradient(x, y+10, x, y+h-10);
				background.addColorStop(0, 'hsl(0,0%,100%)');
				background.addColorStop(1, 'hsl(0,0%,85%)');
		    ctx.fillStyle = background;
				var lock = ctx.roundRect(x, y+10, w, h, r);
				lock.fill();
				lock.stroke();

				// Empty slide bar
				var x = 95, y = 24, w = 343, h = 22, r = 40;
		    var slidebackground = ctx.createLinearGradient(x, y, x, y+h);
				slidebackground.addColorStop(0, 'hsl(0,0%,75%)');
				slidebackground.addColorStop(0.1, 'hsl(0,0%,65%)');
				slidebackground.addColorStop(0.9, 'hsl(0,0%,85%)');
				slidebackground.addColorStop(1, 'hsl(0,0%,95%)');
		    ctx.fillStyle = slidebackground;
				var slidebar = ctx.roundRect(x, y, w, h, r);
				slidebar.fill();

				ctx.globalCompositeOperation = "multiply";	// Add G.I.
		    var slidebackground = ctx.createLinearGradient(x, y, x+w, y+h);
				slidebackground.addColorStop(0, 'hsl(0,0%,95%)');
				slidebackground.addColorStop(0.05, 'hsl(0,0%,100%)');
				slidebackground.addColorStop(0.95, 'hsl(0,0%,100%)');
				slidebackground.addColorStop(1, 'hsl(0,0%,95%)');
		    ctx.fillStyle = slidebackground;
				var slidebar = ctx.roundRect(x, y, w, h, r);
				slidebar.fill();
				ctx.globalCompositeOperation = "source-over";

				ctx.globalCompositeOperation = "screen";	// Add G.I.
		    var slidebackground = ctx.createLinearGradient(x, y, x+w, y+h);
				slidebackground.addColorStop(0, 'hsl(0,0%,0%)');
				slidebackground.addColorStop(0.5, 'hsl(0,0%,30%)');
				slidebackground.addColorStop(1, 'hsl(0,0%,0%)');
		    ctx.fillStyle = slidebackground;
				var slidebar = ctx.roundRect(x, y, w, h, r);
				slidebar.fill();
				ctx.globalCompositeOperation = "source-over";

				// Filled slide bar
				var x = 97, y = 26, w = 339, h = 18, r = 340;
		    var radgrad = ctx.createRadialGradient(x+60, y-10, 0, x, y, r);
		    radgrad.addColorStop(0, 'hsl(76,93%,42%)');
		    radgrad.addColorStop(1, 'hsl(80,95%,35%)');
		    ctx.fillStyle = radgrad;
				var slidebar = ctx.roundRect(x, y, cursor_x-x, h, r);
				slidebar.fill();
			};

			function myCustomCursor(ctx, cursor_x) {
				// Cursor
				var x = cursor_x, y = 24+11, r = 13;
		    ctx.beginPath();
		    ctx.arc(x, y, r, 0, 2 * Math.PI, false);
		    var radgrad = ctx.createRadialGradient(x, y, 0, x, y, r);
		    radgrad.addColorStop(0, 'hsl(0,0%,85%)');
		    radgrad.addColorStop(0.7, 'hsl(0,0%,80%)');
		    radgrad.addColorStop(0.9, 'hsl(0,0%,80%)');
		    radgrad.addColorStop(1, 'hsl(0,0%,65%)');
		    ctx.fillStyle = radgrad;
		    ctx.fill();
		    ctx.globalCompositeOperation = "overlay";	// Add G.I.
		    ctx.beginPath();
		    ctx.arc(x, y, r, 0, 2 * Math.PI, false);
		    var radgrad = ctx.createLinearGradient(x-r, y-r, x+r, y+r);
		    radgrad.addColorStop(0, 'hsl(0,0%,20%)');
		    radgrad.addColorStop(0.5, 'hsl(0,0%,60%)');
		    radgrad.addColorStop(0.5, 'hsl(0,0%,60%)');
		    radgrad.addColorStop(1, 'hsl(0,0%,20%)');
		    ctx.fillStyle = radgrad;
		    ctx.fill();
		    ctx.beginPath();
		    ctx.arc(x, y, r, 0, 2 * Math.PI, false);
				ctx.globalCompositeOperation = "source-over";
			};

			var myCustomCanvas = { 
				draw: myCustomLock,
				cursor: myCustomCursor,
				//image: 'progress-tiles.jpg',
		    width: 460,
		    height: 68,
		    cursor_radius: 13,
		    x1: 95 + 13, 						// X position where the cursor starts
		    w: 427 - 95 - 13,  			// sliding course
		    y: 24+11,  							// Y position of center of the cursor
		    x_text: 95 + 13 - 70,  	// X position where to write text
		    y_text: 24+11 + 7  			// Y position where to write text
			};

			function load(){
				var config1 = {
					message: 'Slide to unlock contact info',
					placeholder: '#standalock-1',
					data: {
						mailto: 'cHJpdmF0ZUBleGFtcGxlLmNvbQ==',
						tel: 'MSg1NTUpNTU1LTU1NTU='
					},
					decrypt: function(value) {
				    return window.atob(value);
				  },
					template: '<p><a href="mailto:{{mailto}}">{{mailto}}</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="tel:{{tel}}">{{tel}}</a></p>',
					userCanvas: myCustomCanvas
				};
				
				var config2 = {
					message: 'Unlock and look for the output at the corner',
					placeholder: '#standalock-2',
					outputPlaceholder: '#putdatahere',
					data: {
						mailto: 'cHJpdmF0ZUBleGFtcGxlLmNvbQ==',
						tel: 'MSg1NTUpNTU1LTU1NTU='
					},
					decrypt: function(value) {
				    return window.atob(value);
				  },
					template: '<p><a href="mailto:{{mailto}}">{{mailto}}</a><br/><a href="tel:{{tel}}">{{tel}}</a></p>'
				};
				var config3 = {
					message: 'Slide to unlock a submit button',
					placeholder: '#standalock-3',
					template: '<p><button onclick="alert(\'DONE\')">Click me</button></p>'
				};
				var config4 = {
					placeholder: '#standalock-4',
					message: 'Slide to decrypt from a remote server',
					data: {
						mailto: "AC:G2E6o6I2>A=6]4@>", // ROT47
						tel: '`WdddXddd\dddd' // ROT47
					},
					decryptUrl: 'http://localhost:1337',
					template: '<p><a href="mailto:{{mailto}}">{{mailto}}</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="tel:{{tel}}">{{tel}}</a></p>'
				};
				StandaLock
					.add(config1)
					.add(config2)
					.add(config3)
					.add(config4)
					.render();
			}
			window.addEventListener('load', load, false);
	    </script>
	  </body>
</html>
